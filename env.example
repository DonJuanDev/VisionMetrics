# ═══════════════════════════════════════════════════════════
# VisionMetrics - Environment Configuration
# Hostinger Production Ready
# ═══════════════════════════════════════════════════════════
# IMPORTANT: Copy this file to .env and fill in your actual values
# Do NOT commit .env with real credentials to version control
# ═══════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────
# APPLICATION
# ───────────────────────────────────────────────────────────
APP_NAME=VisionMetrics
APP_ENV=production
APP_URL=https://visionmetricsapp.com.br
APP_DEBUG=false

# ───────────────────────────────────────────────────────────
# DATABASE (Hostinger MySQL)
# ───────────────────────────────────────────────────────────
DB_HOST=localhost
DB_PORT=3306
DB_NAME=your_database_name
DB_USER=your_database_user
DB_PASS=your_database_password

# ───────────────────────────────────────────────────────────
# SESSIONS
# ───────────────────────────────────────────────────────────
SESSION_NAME=visionmetrics_session
SESSION_LIFETIME=7200
SESSION_SECURE=true

# ───────────────────────────────────────────────────────────
# SECURITY
# ───────────────────────────────────────────────────────────
# Generate with: php -r "echo bin2hex(random_bytes(32));"
JWT_SECRET=your-jwt-secret-key-change-in-production-min-32-chars
CSRF_TOKEN_SALT=your-csrf-salt-change-in-production-min-32-chars

# Integrations Credentials Encryption (REQUIRED for WhatsApp/BSP)
# Generate with: php -r "echo base64_encode(random_bytes(32));"
# This key encrypts sensitive integration credentials in database
INTEGRATIONS_KEY=CHANGE_THIS_BASE64_32_BYTE_KEY_FOR_AES_256_GCM

# ───────────────────────────────────────────────────────────
# ADMIN ACCOUNT (for initial setup script)
# ───────────────────────────────────────────────────────────
ADMIN_EMAIL=admin@visionmetricsapp.com.br
ADMIN_PASS=change-this-strong-password

# ───────────────────────────────────────────────────────────
# INTEGRATIONS MODE
# ───────────────────────────────────────────────────────────
# Set to 'live' for production, 'simulate' for testing
ADAPTER_MODE=simulate

# ───────────────────────────────────────────────────────────
# GOOGLE ANALYTICS 4 (Global fallback - can be per-workspace)
# ───────────────────────────────────────────────────────────
# Get from: Admin > Data Streams > Measurement Protocol API secrets
GA4_MEASUREMENT_ID=G-XXXXXXXXXX
GA4_API_SECRET=your_api_secret_here

# ───────────────────────────────────────────────────────────
# META / FACEBOOK ADS (Global fallback - can be per-workspace)
# ───────────────────────────────────────────────────────────
# Get from: https://developers.facebook.com/tools/accesstoken/
# Pixel ID from Events Manager
META_PIXEL_ID=1234567890123456
META_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
META_TEST_EVENT_CODE=TEST12345

# ───────────────────────────────────────────────────────────
# WHATSAPP CLOUD API
# ───────────────────────────────────────────────────────────
# Get from: https://developers.facebook.com/apps > WhatsApp > API Setup
WHATSAPP_VERIFY_TOKEN=your-random-verify-token-here
WHATSAPP_PHONE_NUMBER_ID=1234567890123456
WHATSAPP_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
WHATSAPP_BUSINESS_ACCOUNT_ID=1234567890123456

# ───────────────────────────────────────────────────────────
# WHATSAPP BSP PROVIDERS (for QR integration)
# ───────────────────────────────────────────────────────────
# Default provider hint (360dialog, infobip, twilio, etc)
WHATSAPP_BSP_DEFAULT=360DIALOG

# Example BSP Configuration (per-workspace credentials stored encrypted in DB)
# These are only used if workspace doesn't have own credentials
# Get from your BSP provider dashboard
BSP_API_BASE=https://waba.360dialog.io
BSP_API_KEY=your_bsp_api_key_here
BSP_WEBHOOK_SECRET=your_webhook_verification_secret

# ───────────────────────────────────────────────────────────
# MERCADOPAGO (Payments & Subscriptions)
# ───────────────────────────────────────────────────────────
# Get from: https://www.mercadopago.com.br/developers/panel/credentials
# Use TEST- prefix for sandbox, live credentials for production
MERCADOPAGO_ACCESS_TOKEN=TEST-1234567890123456-123456-abcdef1234567890abcdef1234567890-123456789
MERCADOPAGO_PUBLIC_KEY=TEST-abcdef12-3456-7890-abcd-ef1234567890
MERCADOPAGO_WEBHOOK_TOKEN=your-webhook-secret-token-here

# ───────────────────────────────────────────────────────────
# EMAIL (for notifications and password reset)
# ───────────────────────────────────────────────────────────
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=587
SMTP_USER=contato@visionmetricsapp.com.br
SMTP_PASS=your-email-password
SMTP_FROM_EMAIL=contato@visionmetricsapp.com.br
SMTP_FROM_NAME=VisionMetrics
MAIL_FROM=noreply@yourdomain.com

# ───────────────────────────────────────────────────────────
# RATE LIMITING
# ───────────────────────────────────────────────────────────
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW=60
# Shortener specific rate limit (requests per minute per IP)
RATE_LIMIT_SHORTENER=30

# ───────────────────────────────────────────────────────────
# LOGGING
# ───────────────────────────────────────────────────────────
LOG_LEVEL=INFO
LOG_CHANNEL=daily

# ───────────────────────────────────────────────────────────
# FEATURE FLAGS
# ───────────────────────────────────────────────────────────
FEATURE_REAL_TIME=true
FEATURE_WORKFLOWS=true
FEATURE_CUSTOM_FIELDS=true

# ───────────────────────────────────────────────────────────
# OPTIONAL: External Services
# ───────────────────────────────────────────────────────────
# IP Geolocation (optional - uses free tier if not set)
IPAPI_KEY=

# Monitoring (optional)
SENTRY_DSN=

# ───────────────────────────────────────────────────────────
# COOKIE SETTINGS
# ───────────────────────────────────────────────────────────
# First-touch cookie lifetime in days
COOKIE_LIFETIME_DAYS=365

# ═══════════════════════════════════════════════════════════
# END OF CONFIGURATION
# ═══════════════════════════════════════════════════════════
